cluster_create_flow ->

qubole_cluster -> get_cluster :

[TestUtils]
cluster_helper.py
qubole_cluster_util -> cluster_create_helper 

lib/cluster.py
QuboleCluster -> ClusterFactory -> update_cluster_instances_memory_cores -> 


config (

:
{
   "auth_token":"ee9dee1f085f40ebaceda14c67c61b282fbb65db06c147aa9303ce48298d90c3",
   "is_aws_role_enabled":True,
   "pytest_plugins":"\"spark\"",
   "qbol_user":9086,
   "memcache_host":"memcached-small-new.imzqhl.cfg.use1.cache.amazonaws.com",
   "reruns":"1",
   "role_arn":"arn:aws:iam::147460200367:role/quboleJenkinsS3Full",
   "api_url":"https://release.qa.qubole.net/api",
   "norecursedirs":".git _build tmp* *__pycache__*",
   "private_vpc":"vpc-b96bbede",
   "markers":"\nroles: works with AWS roles on Qubole\nacceptance: basic tests to be run as part of developer suite\nqubole_account: tests that create separate accounts\naws: works with AWS only\nazure: works with Azure only\noracle_bmc: works with Oracle_BMC only\nautoscale: to tun autoscaling tests\ncustomer_issues: to run tests added for customer issues\noracle: run all tests added for oracle reported issues\ns3a: tests for aws cloud with s3a file system\nvpc: test that are to be run with vpc config",
   "roles_defloc":"qubole-qa-defloc-role",
   "roles_aws_access_key":"AKIAIQVJLQEZD5DD73GQ",
   "provider":"u"   "aws",
   "storage_path":"release-defloc/acm/accounts/4/account_id/1729",
   "bastion_host":"ec2-54-84-246-235.compute-1.amazonaws.com",
   "prod_account_token":"ZQcXRjFzcWHKRqTJi5gJcEyyPpB5YpxVVaPDJeSKAKZyb9mWQhBbqSM1kLushnW2",
   "keys_defloc_bucket":"qubole-qa-defloc",
   "base_bucket":"qubole-karma",
   "account_id":1729,
   "u"   "compute_config":{

      "u"      "access_key":"u"      "ASIARZFJ7XQ6IIWNFDFP",
      "u"      "secret_key":"u"      "z/QL9DmjBJJD7MME/c6uwpEYgNiczzK2p/Y+nqXR",
      "u"      "session_token":"u"      "FwoGZXIvYXdzEO///////////wEaDBvfJsLw0YkMF51NbiK+AfbzI+FRYhv5DD0b+ICegBI/PQU5SDdu8aGU9IhAlcY3Upam9CdiczAsFzNZfUcr9qqUloD8JeVUGPlvjF6wjics6mMrCqlU/Oo4WAf07KnkC1TVz9c3PxRzTQp5GcYUX0WqQdm2pmXOjnwXRygpkRoy9hv7HjwuDxDLiqjp/9DLjgHQpWt/gk1Vn7lMo6N/q/sBW4IHAg19Piuhv/dd56e3ZyiHap1ftL862jpOPQ3WOo2/NQ4FCC7Xq8wAI88orb/j9QUyLQIC32IeskZ2S9YxoD/buqk6ZNv/D+XO+m0K6fGRE191KbmXFJ6OJI1x2Okhwg=="
   },
   "base_path":"s3://qubole-karma",
   "u"   "storage_config":{

      "u"      "access_key":"u"      "ASIARZFJ7XQ6CORJGLJC",
      "u"      "secret_key":"u"      "6Tggvct3JJ9oG92fqcQJJZYHG/HXZ09/cYvdthDv",
      "u"      "session_token":"u"      "FwoGZXIvYXdzEO///////////wEaDIvoqDCI15Nk9zwn1yKdAhzgGeNBaeDsnKdKdIN7+8M/+BQ5sJUg54QBZ93qGB60DIxqJmEvUR0akbGRUwVof5HIcRRTMiyl1ZFLRwwfwtxSXipn+CuH7o0ZOUmzAqcLeGRHpiXmppOeCFwWKEZtXv89n79G11h5jSuyzxi2A0gOSvTZ34i2YjO0MmhT1irdKz8qQtAJifRdMamnw8zgMVqFlERagmw1vNkP2DWu87b9h6LM7MaF86xM8vdkEnaT+u2kg3DkDJdQo7dQpHh3dfwaq0SwrVtAYGzK/HiGDiuwjMBkaXGX4g6/+9uWsYtmqeH45ZekPL0bFBSqKU/ZodG7Sd6b9HW4wxPaQtec0t86qlgD8ukywLuNIDiIXjX/DTVIjfl4wD9YPn18PyiAvuP1BTItbp9EUE2etxupT2isUjz+O6zi34S4cyRTOg82MWveO1I4HhNaHWiw3buPCTBg"
   },
   "private_subnet":"subnet-ef8df7b7",
   "__name__":"tool:pytest",
   "addopts":"-v --junit-xml=./junit.xml --durations=10",
   "tunnel_server":"54.196.227.253",
   "region":"us-east-1",
   "hql_files":"*.hql",
   "timeout":"3600",
   "roles_aws_secret_key":"je6uCM7JlG0rf4Pb/Ml4u2UJQyC+C1Q33ezrQmM3",
   "external_id":"GI2DSM3CM5QWM2DE",
   "user_email":"u"   "sandeepb@qubole.com",
   "cluster_startup_timeout":"900"
}

-------------------------------------------------------------------------------
cluster payload:
{'memcache_host': 'test-utils-staging.hejbiq.cfg.use1.cache.amazonaws.com', 'account': <lib.account.QuboleAccount object at 0x10f6eea90>, 'image_version': None, 'account_id': 1729, 'sg_random': 1431, 'region': 'us-east-1', 'delete_on_cleanup': True, 'aws_region': 'us-east-1', 'provider': aws, 'persistent_security_groups': 'pyapi-psg-release.qa_qbol_acc1729', 'custom_tags': '{"Environment": "release", "Project": "ACM", "test_type": "manual", "parent_build_tag": "manual", "Tier": "Cluster"}', 'stop_on_cleanup': True, 'max_nodes': 1, 'min_nodes': 1, 'composition': {'min_timeout_for_request': '1', 'autoscaling_timeout_for_request': '1', 'autoscaling_maximum_bid_price_percentage': 100, 'autoscaling_spot_percentage': 100, 'autoscaling_spot_fallback': 'ondemand', 'min_spot_percentage': 100, 'min_spot_fallback': 'ondemand', 'master_type': 'spot', 'master_timeout_for_request': '1', 'master_spot_fallback': 'ondemand', 'min_maximum_bid_price_percentage': 100, 'master_maximum_bid_price_percentage': 150}, 'api_version': 'v2.2'}






